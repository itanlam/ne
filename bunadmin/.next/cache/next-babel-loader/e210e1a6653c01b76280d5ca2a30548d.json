{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Volumes/Untitled/GitHub/itanlam/ne/bunadmin/src/core/auth/index.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport { CommonTableDefaultProps as DefaultProps } from \"@/components/CommonTable/models/defaultProps\";\nimport CommonTable, { CommonTableHead } from \"@/components/CommonTable\";\nimport tableIcons from \"@/components/CommonTable/models/tableIcons\";\nimport rxSubscribe from \"@/utils/database/rxSubscribe\";\nimport { Columns } from \"./columns\";\nimport { Primary, Schema } from \"./schema\";\nimport { Collection } from \"./collections\";\nimport { Collection as Setting } from \"../setting/collections\";\nimport ConfirmDialog from \"@/components/CommonDialog/ConfirmDialog\";\nimport rxDb from \"@/utils/database/rxConnect\";\nimport dynamic from \"next/dynamic\";\nimport jsonViewStyles from \"@/utils/styles/jsonViewStyles\";\nimport { Box, Button } from \"@material-ui/core\";\nimport { useTranslation } from \"react-i18next\";\nvar DynamicReactJson = dynamic(_c = function _c() {\n  return import(\"react-json-view\");\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"react-json-view\")];\n    },\n    modules: [\"react-json-view\"]\n  }\n});\n_c2 = DynamicReactJson;\nexport default function AuthInfoContainer() {\n  _s();\n\n  var _this = this;\n\n  var _useTranslation = useTranslation(\"table\"),\n      t = _useTranslation.t;\n\n  var theme = useTheme();\n\n  var _useState = useState([]),\n      data = _useState[0],\n      setData = _useState[1];\n\n  var _useState2 = useState(),\n      selData = _useState2[0],\n      setSelData = _useState2[1];\n\n  var _useState3 = useState({\n    open: 0,\n    title: \"\",\n    msg: \"\"\n  }),\n      modalState = _useState3[0],\n      setModalState = _useState3[1];\n\n  useEffect(function () {\n    ;\n\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return rxSubscribe({\n                collection: Collection.name,\n                sort: {\n                  updated_at: \"desc\"\n                },\n                callback: function callback(data) {\n                  return setData(data);\n                }\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(React.Fragment, null, __jsx(CommonTableHead, {\n    title: t(Schema.title),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }), __jsx(CommonTable, {\n    title: t(Schema.title),\n    columns: Columns({\n      t: t\n    }),\n    data: data // style\n    ,\n    style: DefaultProps.style // icons\n    ,\n    icons: tableIcons({\n      theme: theme\n    }) // options\n    ,\n    options: _objectSpread(_objectSpread({}, DefaultProps.options), {}, {\n      filtering: true,\n      grouping: true\n    }) // actions\n    ,\n    actions: [{\n      tooltip: \"Remove All Selected Items\",\n      icon: \"delete\",\n      onClick: function onClick(_evt, data) {\n        data = data;\n        var msg = \"Do you want to delete \" + data.length + \" rows ?\";\n        setModalState({\n          title: \"Bulk delete\",\n          open: modalState.open + 1,\n          msg: msg\n        });\n        setSelData(data);\n      }\n    }] // detailPanel\n    ,\n    detailPanel: [{\n      icon: \"assignment_ind\",\n      render: function render(rowData) {\n        if (!rowData.details) {\n          return __jsx(\"div\", {\n            style: {\n              color: \"white\",\n              backgroundColor: theme.bunadmin.iconColor,\n              padding: \"10px 30px\"\n            },\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 21\n            }\n          }, rowData.details || \"DETAILS IS EMPTY\");\n        } else {\n          var str = rowData.details || \"\";\n          return __jsx(DynamicReactJson, {\n            src: JSON.parse(str),\n            theme: \"summerfruit:inverted\",\n            iconStyle: \"circle\",\n            collapseStringsAfterLength: 20,\n            displayObjectSize: false,\n            displayDataTypes: false,\n            style: jsonViewStyles({\n              theme: theme\n            }),\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 21\n            }\n          });\n        } // check columns\n\n      } // render\n\n    }, // item\n    {\n      icon: \"sync_alt\",\n      render: function render(rowData) {\n        return __jsx(Box, {\n          p: 3,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 19\n          }\n        }, __jsx(Button, {\n          variant: \"outlined\",\n          size: \"small\",\n          color: \"primary\",\n          onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n            var db;\n            return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.next = 2;\n                    return rxDb();\n\n                  case 2:\n                    db = _context2.sent;\n                    _context2.next = 5;\n                    return db[Setting.name].upsert({\n                      name: Primary,\n                      value: rowData[Primary],\n                      updated_at: Date.now()\n                    });\n\n                  case 5:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2);\n          })),\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 21\n          }\n        }, \"Switch to \", rowData[Primary]));\n      }\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  })), __jsx(ConfirmDialog, {\n    openModal: modalState.open,\n    title: modalState.title,\n    msg: modalState.msg,\n    doFunc: function doFunc() {\n      // bulk delete\n      if (selData && selData.length > 0) {\n        selData.map( /*#__PURE__*/function () {\n          var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(item) {\n            var db, query;\n            return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n              while (1) {\n                switch (_context3.prev = _context3.next) {\n                  case 0:\n                    _context3.prev = 0;\n                    _context3.next = 3;\n                    return rxDb();\n\n                  case 3:\n                    db = _context3.sent;\n                    query = db[Collection.name].findOne().where(Primary).eq(item[Primary]);\n                    _context3.next = 7;\n                    return query.remove();\n\n                  case 7:\n                    _context3.next = 12;\n                    break;\n\n                  case 9:\n                    _context3.prev = 9;\n                    _context3.t0 = _context3[\"catch\"](0);\n                    console.error(_context3.t0);\n\n                  case 12:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }\n            }, _callee3, null, [[0, 9]]);\n          }));\n\n          return function (_x) {\n            return _ref3.apply(this, arguments);\n          };\n        }());\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }));\n}\n\n_s(AuthInfoContainer, \"DIRiicfSfTA35JI5we7ERQ2qDTk=\", false, function () {\n  return [useTranslation, useTheme];\n});\n\n_c3 = AuthInfoContainer;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"DynamicReactJson$dynamic\");\n$RefreshReg$(_c2, \"DynamicReactJson\");\n$RefreshReg$(_c3, \"AuthInfoContainer\");","map":{"version":3,"sources":["/Volumes/Untitled/GitHub/itanlam/ne/bunadmin/src/core/auth/index.tsx"],"names":["React","useEffect","useState","useTheme","CommonTableDefaultProps","DefaultProps","CommonTable","CommonTableHead","tableIcons","rxSubscribe","Columns","Primary","Schema","Collection","Setting","ConfirmDialog","rxDb","dynamic","jsonViewStyles","Box","Button","useTranslation","DynamicReactJson","ssr","AuthInfoContainer","t","theme","data","setData","selData","setSelData","open","title","msg","modalState","setModalState","collection","name","sort","updated_at","callback","style","options","filtering","grouping","tooltip","icon","onClick","_evt","length","render","rowData","details","color","backgroundColor","bunadmin","iconColor","padding","str","JSON","parse","db","upsert","value","Date","now","map","item","query","findOne","where","eq","remove","console","error"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\n\nimport { useTheme } from \"@material-ui/core/styles\"\nimport { CommonTableDefaultProps as DefaultProps } from \"@/components/CommonTable/models/defaultProps\"\n\nimport CommonTable, { CommonTableHead } from \"@/components/CommonTable\"\nimport tableIcons from \"@/components/CommonTable/models/tableIcons\"\nimport rxSubscribe from \"@/utils/database/rxSubscribe\"\nimport { Columns } from \"./columns\"\nimport { Primary, Schema } from \"./schema\"\nimport { Collection } from \"./collections\"\nimport { Collection as Setting } from \"../setting/collections\"\nimport ConfirmDialog from \"@/components/CommonDialog/ConfirmDialog\"\nimport rxDb from \"@/utils/database/rxConnect\"\nimport dynamic from \"next/dynamic\"\nimport jsonViewStyles from \"@/utils/styles/jsonViewStyles\"\nimport { Type } from \"./types\"\nimport { Box, Button } from \"@material-ui/core\"\nimport { useTranslation } from \"react-i18next\"\nconst DynamicReactJson = dynamic(import(\"react-json-view\"), { ssr: false })\n\nexport default function AuthInfoContainer() {\n  const { t } = useTranslation(\"table\")\n  const theme = useTheme()\n  const [data, setData] = useState([])\n  const [selData, setSelData] = useState<Type[]>()\n  const [modalState, setModalState] = useState({\n    open: 0,\n    title: \"\",\n    msg: \"\"\n  })\n\n  useEffect(() => {\n    ;(async () => {\n      await rxSubscribe({\n        collection: Collection.name,\n        sort: { updated_at: \"desc\" },\n        callback: data => setData(data)\n      })\n    })()\n  }, [])\n\n  return (\n    <>\n      <>\n        <CommonTableHead title={t(Schema.title)} />\n        <CommonTable\n          title={t(Schema.title)}\n          columns={Columns({ t })}\n          data={data}\n          // style\n          style={DefaultProps.style}\n          // icons\n          icons={tableIcons({ theme })}\n          // options\n          options={{ ...DefaultProps.options, filtering: true, grouping: true }}\n          // actions\n          actions={[\n            {\n              tooltip: \"Remove All Selected Items\",\n              icon: \"delete\",\n              onClick: (_evt, data) => {\n                data = data as Type[]\n                const msg = \"Do you want to delete \" + data.length + \" rows ?\"\n                setModalState({\n                  title: \"Bulk delete\",\n                  open: modalState.open + 1,\n                  msg\n                })\n                setSelData(data)\n              }\n            }\n          ]}\n          // detailPanel\n          detailPanel={[\n            {\n              icon: \"assignment_ind\",\n              render: rowData => {\n                if (!rowData.details) {\n                  return (\n                    <div\n                      style={{\n                        color: \"white\",\n                        backgroundColor: theme.bunadmin.iconColor,\n                        padding: \"10px 30px\"\n                      }}\n                    >\n                      {rowData.details || \"DETAILS IS EMPTY\"}\n                    </div>\n                  )\n                } else {\n                  const str = rowData.details || \"\"\n                  return (\n                    <DynamicReactJson\n                      src={JSON.parse(str)}\n                      theme=\"summerfruit:inverted\"\n                      iconStyle=\"circle\"\n                      collapseStringsAfterLength={20}\n                      displayObjectSize={false}\n                      displayDataTypes={false}\n                      style={jsonViewStyles({ theme })}\n                    />\n                  )\n                } // check columns\n              } // render\n            }, // item\n            {\n              icon: \"sync_alt\",\n              render: rowData => {\n                return (\n                  <Box p={3}>\n                    <Button\n                      variant=\"outlined\"\n                      size=\"small\"\n                      color=\"primary\"\n                      onClick={async () => {\n                        const db = await rxDb()\n                        await db[Setting.name].upsert({\n                          name: Primary,\n                          value: rowData[Primary],\n                          updated_at: Date.now()\n                        })\n                      }}\n                    >\n                      Switch to {rowData[Primary]}\n                    </Button>\n                  </Box>\n                )\n              }\n            }\n          ]}\n        />\n      </>\n      {/* ConfirmDialog */}\n      <ConfirmDialog\n        openModal={modalState.open}\n        title={modalState.title}\n        msg={modalState.msg}\n        doFunc={() => {\n          // bulk delete\n          if (selData && selData.length > 0) {\n            selData.map(async item => {\n              try {\n                const db = await rxDb()\n\n                const query = db[Collection.name]\n                  .findOne()\n                  .where(Primary)\n                  .eq(item[Primary])\n\n                await query.remove()\n              } catch (e) {\n                console.error(e)\n              }\n            })\n          }\n        }}\n      />\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}