{"ast":null,"code":"var _jsxFileName = \"/Volumes/Untitled/GitHub/itanlam/ne/bunadmin/src/layouts/DefaultLayout/LeftMenu/index.tsx\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport Divider from \"@material-ui/core/Divider\";\nimport NestedList from \"./NestedMenu\";\nimport SettingMenu from \"./SettingMenu\";\nimport rxSubscribe from \"@/utils/database/rxSubscribe\";\nimport { Collection } from \"@/core/menu/collections\";\nimport { ENV } from \"@/utils/config\";\n\nconst LeftMenu = ({\n  data: propsData,\n  offLeftSetting\n}) => {\n  const {\n    0: data,\n    1: setData\n  } = useState(propsData || []);\n  useEffect(() => {\n    if (propsData) return;\n\n    (async () => {\n      await rxSubscribe({\n        collection: Collection.name,\n        sort: {\n          rank: \"desc\"\n        },\n        callback: data => {\n          setData(data);\n        }\n      });\n    })();\n  }, [propsData]);\n  return __jsx(React.Fragment, null, __jsx(NestedList, {\n    data: propsData || data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }), __jsx(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }), !offLeftSetting && ENV.ON_SETTING && __jsx(SettingMenu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 45\n    }\n  }));\n};\n\nexport default LeftMenu;","map":{"version":3,"sources":["/Volumes/Untitled/GitHub/itanlam/ne/bunadmin/src/layouts/DefaultLayout/LeftMenu/index.tsx"],"names":["React","useEffect","useState","Divider","NestedList","SettingMenu","rxSubscribe","Collection","ENV","LeftMenu","data","propsData","offLeftSetting","setData","collection","name","sort","rank","callback","ON_SETTING"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAEA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,WAAP,MAAwB,8BAAxB;AACA,SAASC,UAAT,QAA2B,yBAA3B;AAEA,SAASC,GAAT,QAAoB,gBAApB;;AAOA,MAAMC,QAAQ,GAAG,CAAC;AAAEC,EAAAA,IAAI,EAAEC,SAAR;AAAmBC,EAAAA;AAAnB,CAAD,KAAwD;AACvE,QAAM;AAAA,OAACF,IAAD;AAAA,OAAOG;AAAP,MAAkBX,QAAQ,CAACS,SAAS,IAAK,EAAf,CAAhC;AAEAV,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIU,SAAJ,EAAe;;AACd,KAAC,YAAY;AACZ,YAAML,WAAW,CAAC;AAChBQ,QAAAA,UAAU,EAAEP,UAAU,CAACQ,IADP;AAEhBC,QAAAA,IAAI,EAAE;AAAEC,UAAAA,IAAI,EAAE;AAAR,SAFU;AAGhBC,QAAAA,QAAQ,EAAER,IAAI,IAAI;AAChBG,UAAAA,OAAO,CAACH,IAAD,CAAP;AACD;AALe,OAAD,CAAjB;AAOD,KARA;AASF,GAXQ,EAWN,CAACC,SAAD,CAXM,CAAT;AAaA,SACE,4BACE,MAAC,UAAD;AAAY,IAAA,IAAI,EAAEA,SAAS,IAAID,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGG,CAACE,cAAD,IAAmBJ,GAAG,CAACW,UAAvB,IAAqC,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHxC,CADF;AAOD,CAvBD;;AAyBA,eAAeV,QAAf","sourcesContent":["import React, { useEffect, useState } from \"react\"\n\nimport Divider from \"@material-ui/core/Divider\"\nimport NestedList from \"./NestedMenu\"\nimport SettingMenu from \"./SettingMenu\"\nimport rxSubscribe from \"@/utils/database/rxSubscribe\"\nimport { Collection } from \"@/core/menu/collections\"\nimport { Type } from \"@/core/menu/types\"\nimport { ENV } from \"@/utils/config\"\n\nexport interface LeftMenuProps {\n  data?: Type[]\n  offLeftSetting?: boolean\n}\n\nconst LeftMenu = ({ data: propsData, offLeftSetting }: LeftMenuProps) => {\n  const [data, setData] = useState(propsData || ([] as Type[]))\n\n  useEffect(() => {\n    if (propsData) return\n    ;(async () => {\n      await rxSubscribe({\n        collection: Collection.name,\n        sort: { rank: \"desc\" },\n        callback: data => {\n          setData(data)\n        }\n      })\n    })()\n  }, [propsData])\n\n  return (\n    <>\n      <NestedList data={propsData || data} />\n      <Divider />\n      {!offLeftSetting && ENV.ON_SETTING && <SettingMenu />}\n    </>\n  )\n}\n\nexport default LeftMenu\n"]},"metadata":{},"sourceType":"module"}