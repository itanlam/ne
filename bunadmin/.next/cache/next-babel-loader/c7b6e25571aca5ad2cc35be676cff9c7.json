{"ast":null,"code":"/**\n * Remote data controller\n */\nimport { notice } from \"@/core\";\nimport listSer from \"../services/listSer\";\nexport default async function dataCtrl(query) {\n  const {\n    data,\n    errors,\n    totalCount\n  } = await listSer(query);\n\n  if (errors) {\n    await notice({\n      title: \"Fetch error\",\n      severity: \"error\",\n      content: JSON.stringify(errors)\n    });\n    return {\n      page: query.page,\n      data: [],\n      totalCount: 0\n    };\n  }\n\n  return {\n    page: query.page,\n    data,\n    totalCount: totalCount\n  };\n}","map":{"version":3,"sources":["/Volumes/Untitled/GitHub/itanlam/ne/bunadmin/plugins/buncms-user/list/controllers/dataCtrl.tsx"],"names":["notice","listSer","dataCtrl","query","data","errors","totalCount","title","severity","content","JSON","stringify","page"],"mappings":"AAAA;;;AAIA,SAASA,MAAT,QAAuB,QAAvB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AAEA,eAAe,eAAeC,QAAf,CAAwBC,KAAxB,EAA2C;AACxD,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,MAAR;AAAgBC,IAAAA;AAAhB,MAA+B,MAAML,OAAO,CAACE,KAAD,CAAlD;;AAEA,MAAIE,MAAJ,EAAY;AACV,UAAML,MAAM,CAAC;AACXO,MAAAA,KAAK,EAAE,aADI;AAEXC,MAAAA,QAAQ,EAAE,OAFC;AAGXC,MAAAA,OAAO,EAAEC,IAAI,CAACC,SAAL,CAAeN,MAAf;AAHE,KAAD,CAAZ;AAKA,WAAO;AACLO,MAAAA,IAAI,EAAET,KAAK,CAACS,IADP;AAELR,MAAAA,IAAI,EAAE,EAFD;AAGLE,MAAAA,UAAU,EAAE;AAHP,KAAP;AAKD;;AAED,SAAO;AACLM,IAAAA,IAAI,EAAET,KAAK,CAACS,IADP;AAELR,IAAAA,IAFK;AAGLE,IAAAA,UAAU,EAAEA;AAHP,GAAP;AAKD","sourcesContent":["/**\n * Remote data controller\n */\nimport { Query } from \"material-table\"\nimport { notice } from \"@/core\"\nimport listSer from \"../services/listSer\"\n\nexport default async function dataCtrl(query: Query<any>) {\n  const { data, errors, totalCount } = await listSer(query)\n\n  if (errors) {\n    await notice({\n      title: \"Fetch error\",\n      severity: \"error\",\n      content: JSON.stringify(errors)\n    })\n    return {\n      page: query.page,\n      data: [],\n      totalCount: 0\n    }\n  }\n\n  return {\n    page: query.page,\n    data,\n    totalCount: totalCount\n  }\n}\n"]},"metadata":{},"sourceType":"module"}