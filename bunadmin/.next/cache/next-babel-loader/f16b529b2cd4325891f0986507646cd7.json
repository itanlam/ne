{"ast":null,"code":"/**\n * Remote data controller\n */\nimport { notice } from \"@/core\";\nimport listSer from \"../services/listSer\";\nexport default async function dataCtrl({\n  query,\n  SchemaName\n}) {\n  const {\n    data,\n    errors,\n    totalCount\n  } = await listSer({\n    query,\n    SchemaName\n  });\n\n  if (errors) {\n    await notice({\n      title: \"Fetch error\",\n      severity: \"error\",\n      content: JSON.stringify(errors)\n    });\n    return {\n      page: query.page,\n      data: [],\n      totalCount: 0\n    };\n  }\n\n  return {\n    page: query.page,\n    data,\n    totalCount: totalCount\n  };\n}","map":{"version":3,"sources":["/Volumes/Untitled/GitHub/itanlam/ne/bunadmin/plugins/data-source-strapi/controllers/dataCtrl.tsx"],"names":["notice","listSer","dataCtrl","query","SchemaName","data","errors","totalCount","title","severity","content","JSON","stringify","page"],"mappings":"AAAA;;;AAGA,SAASA,MAAT,QAAuB,QAAvB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AAGA,eAAe,eAAeC,QAAf,CAAwB;AAAEC,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAAxB,EAAyD;AACtE,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,MAAR;AAAgBC,IAAAA;AAAhB,MAA+B,MAAMN,OAAO,CAAC;AAAEE,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAD,CAAlD;;AAEA,MAAIE,MAAJ,EAAY;AACV,UAAMN,MAAM,CAAC;AACXQ,MAAAA,KAAK,EAAE,aADI;AAEXC,MAAAA,QAAQ,EAAE,OAFC;AAGXC,MAAAA,OAAO,EAAEC,IAAI,CAACC,SAAL,CAAeN,MAAf;AAHE,KAAD,CAAZ;AAKA,WAAO;AACLO,MAAAA,IAAI,EAAEV,KAAK,CAACU,IADP;AAELR,MAAAA,IAAI,EAAE,EAFD;AAGLE,MAAAA,UAAU,EAAE;AAHP,KAAP;AAKD;;AAED,SAAO;AACLM,IAAAA,IAAI,EAAEV,KAAK,CAACU,IADP;AAELR,IAAAA,IAFK;AAGLE,IAAAA,UAAU,EAAEA;AAHP,GAAP;AAKD","sourcesContent":["/**\n * Remote data controller\n */\nimport { notice } from \"@/core\"\nimport listSer from \"../services/listSer\"\nimport { DataCtrl } from \"../types\"\n\nexport default async function dataCtrl({ query, SchemaName }: DataCtrl) {\n  const { data, errors, totalCount } = await listSer({ query, SchemaName })\n\n  if (errors) {\n    await notice({\n      title: \"Fetch error\",\n      severity: \"error\",\n      content: JSON.stringify(errors)\n    })\n    return {\n      page: query.page,\n      data: [],\n      totalCount: 0\n    }\n  }\n\n  return {\n    page: query.page,\n    data,\n    totalCount: totalCount\n  }\n}\n"]},"metadata":{},"sourceType":"module"}