{"ast":null,"code":"import request from \"@/utils/scripts/request\";\nimport storedToken from \"@/utils/scripts/storedToken\";\nimport { ENV } from \"@/utils/config\";\nimport { notice } from \"@/core\";\nexport default async function updateSer({\n  newData,\n  oldData,\n  SchemaName\n}) {\n  const token = await storedToken();\n  const res = await request(`/content-manager/explorer/application::${SchemaName}.${SchemaName}/${oldData.id}`, {\n    prefix: ENV.MAIN_URL,\n    method: \"PUT\",\n    headers: {\n      Authorization: `Bearer ${token}`\n    },\n    data: newData\n  });\n\n  if (res.error) {\n    await notice({\n      title: \"Sorry, you can't update this post\",\n      severity: \"warning\",\n      content: JSON.stringify(oldData)\n    });\n  } else {\n    await notice({\n      title: \"Successful\",\n      severity: \"success\"\n    });\n  }\n}","map":{"version":3,"sources":["/Volumes/Untitled/GitHub/itanlam/ne/bunadmin/plugins/data-source-strapi/services/updateSer.tsx"],"names":["request","storedToken","ENV","notice","updateSer","newData","oldData","SchemaName","token","res","id","prefix","MAIN_URL","method","headers","Authorization","data","error","title","severity","content","JSON","stringify"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,yBAApB;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AACA,SAASC,GAAT,QAAoB,gBAApB;AACA,SAASC,MAAT,QAAuB,QAAvB;AAQA,eAAe,eAAeC,SAAf,CAAyB;AACtCC,EAAAA,OADsC;AAEtCC,EAAAA,OAFsC;AAGtCC,EAAAA;AAHsC,CAAzB,EAIA;AACb,QAAMC,KAAK,GAAG,MAAMP,WAAW,EAA/B;AAEA,QAAMQ,GAAG,GAAG,MAAMT,OAAO,CACtB,0CAAyCO,UAAW,IAAGA,UAAW,IAAGD,OAAO,CAACI,EAAG,EAD1D,EAEvB;AACEC,IAAAA,MAAM,EAAET,GAAG,CAACU,QADd;AAEEC,IAAAA,MAAM,EAAE,KAFV;AAGEC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAG,UAASP,KAAM;AADxB,KAHX;AAMEQ,IAAAA,IAAI,EAAEX;AANR,GAFuB,CAAzB;;AAYA,MAAII,GAAG,CAACQ,KAAR,EAAe;AACb,UAAMd,MAAM,CAAC;AACXe,MAAAA,KAAK,EAAE,mCADI;AAEXC,MAAAA,QAAQ,EAAE,SAFC;AAGXC,MAAAA,OAAO,EAAEC,IAAI,CAACC,SAAL,CAAehB,OAAf;AAHE,KAAD,CAAZ;AAKD,GAND,MAMO;AACL,UAAMH,MAAM,CAAC;AACXe,MAAAA,KAAK,EAAE,YADI;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KAAD,CAAZ;AAID;AACF","sourcesContent":["import request from \"@/utils/scripts/request\"\nimport storedToken from \"@/utils/scripts/storedToken\"\nimport { ENV } from \"@/utils/config\"\nimport { notice } from \"@/core\"\nimport { EditableCtrl } from \"../types\"\n\ninterface Props<RowData> extends EditableCtrl {\n  newData: RowData\n  oldData: RowData\n}\n\nexport default async function updateSer({\n  newData,\n  oldData,\n  SchemaName\n}: Props<any>) {\n  const token = await storedToken()\n\n  const res = await request(\n    `/content-manager/explorer/application::${SchemaName}.${SchemaName}/${oldData.id}`,\n    {\n      prefix: ENV.MAIN_URL,\n      method: \"PUT\",\n      headers: {\n        Authorization: `Bearer ${token}`\n      },\n      data: newData\n    }\n  )\n\n  if (res.error) {\n    await notice({\n      title: \"Sorry, you can't update this post\",\n      severity: \"warning\",\n      content: JSON.stringify(oldData)\n    })\n  } else {\n    await notice({\n      title: \"Successful\",\n      severity: \"success\"\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}